{"version":3,"sources":["../../../src/server/_helpers/error-handler.js"],"names":["module","exports","errorHandler","err","req","res","next","status","json","message","name"],"mappings":"AAAA;;AACA;AACAA,MAAM,CAACC,OAAP,GAAiBC,YAAjB;;AAEA,SAASA,YAAT,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;AACvC,MAAI,OAAOH,GAAP,KAAe,QAAnB,EAA6B;AACzB;AACA,WAAOE,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAEN;AAAV,KAArB,CAAP;AACH;;AAED,MAAIA,GAAG,CAACO,IAAJ,KAAa,iBAAjB,EAAoC;AAChC;AACA,WAAOL,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAEN,GAAG,CAACM;AAAd,KAArB,CAAP;AACH;;AAED,MAAIN,GAAG,CAACO,IAAJ,KAAa,mBAAjB,EAAsC;AAClC;AACA,WAAOL,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAArB,CAAP;AACH,GAdsC,CAgBvC;;;AACA,SAAOJ,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAEN,GAAG,CAACM;AAAd,GAArB,CAAP;AACH","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable no-use-before-define */\nmodule.exports = errorHandler;\n\nfunction errorHandler(err, req, res, next) {\n    if (typeof err === \"string\") {\n        // custom application error\n        return res.status(400).json({message: err});\n    }\n\n    if (err.name === \"ValidationError\") {\n        // mongoose validation error\n        return res.status(400).json({message: err.message});\n    }\n\n    if (err.name === \"UnauthorizedError\") {\n        // jwt authentication error\n        return res.status(401).json({message: \"Invalid Token\"});\n    }\n\n    // default to 500 server error\n    return res.status(500).json({message: err.message});\n}\n"],"file":"error-handler.js"}